<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>LuaSandbox | PHP Jetbrains phpstorm-stubs</title>

            <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="css/doctum.css">
        <link rel="stylesheet" type="text/css" href="fonts/doctum-font.css">
        <script src="js/jquery-3.5.1.slim.min.js"></script>
        <script async defer src="doctum.js"></script>
        <script async defer src="js/bootstrap.min.js"></script>
        <script async defer src="js/autocomplete.min.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">

    </head>

    <body id="class" data-name="class:LuaSandbox" data-root-path="" data-search-index-url="doctum-search.json">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                <div class="search-bar hidden" id="search-progress-bar-container">
            <div class="progress">
                <div class="progress-bar" role="progressbar" id="search-progress-bar"
                    aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
            </div>
        </div>
        <form id="search-form" action="search.html">
            <span class="icon icon-search"></span>
            <input name="search"
                   id="doctum-search-auto-complete"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search"
                   spellcheck="false"
                   autocorrect="off"
                   autocomplete="off"
                   autocapitalize="off">
            <div class="auto-complete-results" id="auto-complete-results"></div>
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">PHP Jetbrains phpstorm-stubs</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                    <li><a href="classes.html">Classes</a></li>
                    <li><a href="namespaces.html">Namespaces</a></li>
                    <li><a href="interfaces.html">Interfaces</a></li>
                    <li><a href="traits.html">Traits</a></li>
                    <li><a href="doc-index.html">Index</a></li>
                    <li><a href="search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                            <div id="page-content">
    <div class="page-header">
        <h1>LuaSandbox    
            </h1>
    </div>

    
    <p>        class
    <strong>LuaSandbox</strong>        (<a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/LuaSandbox/LuaSandbox.php">View source</a>)
</p>

        
        
    
        

            <div class="description">
            <p><p>The <i>LuaSandbox</i> class creates a Lua environment and allows for execution of Lua code.</p>
</p>                    </div>
            
        
            <h2>Constants</h2>    <table class="table table-condensed">
                    <tr>
                <td>
                                                                                                                        SAMPLES
                                    </td>
                <td class="last">
                    <p><em><p>Used with <code>LuaSandbox::getProfilerFunctionReport()</code>
to return timings in samples.</p>
</em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>
                                                                                                                        SECONDS
                                    </td>
                <td class="last">
                    <p><em><p>Used with <code>LuaSandbox::getProfilerFunctionReport()</code>
to return timings in seconds.</p>
</em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>
                                                                                                                        PERCENT
                                    </td>
                <td class="last">
                    <p><em><p>Used with <code>LuaSandbox::getProfilerFunctionReport()</code>
to return timings in percentages of the total.</p>
</em></p>
                    <p></p>
                </td>
            </tr>
            </table>

    
    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_callFunction">callFunction</a>($name, array $arguments)
        
                                            <p><p>Call a function in a Lua global variable.</p>
</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_disableProfiler">disableProfiler</a>()
        
                                            <p><p>Disable the profiler.</p>
</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_enableProfiler">enableProfiler</a>($period = 0.02)
        
                                            <p><p>Enable the profiler.</p>
</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_getCPUUsage">getCPUUsage</a>()
        
                                            <p><p>Fetch the current CPU time usage of the Lua environment.</p>
</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_getMemoryUsage">getMemoryUsage</a>()
        
                                            <p><p>Fetch the current memory usage of the Lua environment.</p>
</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_getPeakMemoryUsage">getPeakMemoryUsage</a>()
        
                                            <p><p>Fetch the peak memory usage of the Lua environment.</p>
</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_getProfilerFunctionReport">getProfilerFunctionReport</a>($units = LuaSandbox::SECONDS)
        
                                            <p><p>Fetch profiler data.</p>
</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;
                </div>
                <div class="col-md-8">
                    <a href="#method_getVersionInfo">getVersionInfo</a>()
        
                                            <p><p>Return the versions of LuaSandbox and Lua.</p>
</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_loadBinary">loadBinary</a>($code, $chunkName = &#039;&#039;)
        
                                            <p><p>Load a precompiled binary chunk into the Lua environment.</p>
</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_loadString">loadString</a>($code, $chunkName = &#039;&#039;)
        
                                            <p><p>Load Lua code into the Lua environment.</p>
</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_pauseUsageTimer">pauseUsageTimer</a>()
        
                                            <p><p>Pause the CPU usage timer.</p>
</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_registerLibrary">registerLibrary</a>($libname, $functions)
        
                                            <p><p>Register a set of PHP functions as a Lua library.</p>
</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_setCPULimit">setCPULimit</a>($limit)
        
                                            <p><p>Set the CPU time limit for the Lua environment.</p>
</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_setMemoryLimit">setMemoryLimit</a>($limit)
        
                                            <p><p>Set the memory limit for the Lua environment.</p>
</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_unpauseUsageTimer">unpauseUsageTimer</a>()
        
                                            <p><p>Unpause the timer paused by <code>LuaSandbox::pauseUsageTimer()</code>.</p>
</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_wrapPhpFunction">wrapPhpFunction</a>($function)
        
                                            <p><p>Wrap a PHP callable in a LuaSandboxFunction.</p>
</p>                </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method_callFunction">
        <div class="location"><a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/LuaSandbox/LuaSandbox.php#L60">at line 60</a></div>
        <code>                    
    <strong>callFunction</strong>($name, array $arguments)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Call a function in a Lua global variable.</p>
</p>                <p><p>If the name contains "." characters, the function is located via recursive table accesses,
as if the name were a Lua expression.</p>
<p>If the variable does not exist, or is not a function,
false will be returned and a warning issued.</p>
<p>For more information about calling Lua functions and the return values,
see ```LuaSandboxFunction::call()```.</p>
</p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$name</td>
                <td></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$arguments</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_disableProfiler">
        <div class="location"><a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/LuaSandbox/LuaSandbox.php#L70">at line 70</a></div>
        <code>                    
    <strong>disableProfiler</strong>()
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Disable the profiler.</p>
</p>                        
        </div>
        <div class="tags">
            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_enableProfiler">
        <div class="location"><a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/LuaSandbox/LuaSandbox.php#L87">at line 87</a></div>
        <code>                    
    <strong>enableProfiler</strong>($period = 0.02)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Enable the profiler.</p>
</p>                <p><p>The profiler periodically samples the Lua environment
to record the running function. Testing indicates that
at least on Linux, setting a period less than 1ms will
lead to a high overrun count but no performance problems.</p>
</p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$period</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getCPUUsage">
        <div class="location"><a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/LuaSandbox/LuaSandbox.php#L106">at line 106</a></div>
        <code>                    
    <strong>getCPUUsage</strong>()
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Fetch the current CPU time usage of the Lua environment.</p>
</p>                <p><p>This includes time spent in PHP callbacks.</p>
<p>Note: On Windows, this function always returns zero.
On operating systems that do not support <i>CLOCK_THREAD_CPUTIME_ID</i>,
such as FreeBSD and Mac OS X, this function will return the
elapsed wall-clock time, not CPU time.</p>
</p>        
        </div>
        <div class="tags">
            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getMemoryUsage">
        <div class="location"><a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/LuaSandbox/LuaSandbox.php#L118">at line 118</a></div>
        <code>                    
    <strong>getMemoryUsage</strong>()
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Fetch the current memory usage of the Lua environment.</p>
</p>                        
        </div>
        <div class="tags">
            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getPeakMemoryUsage">
        <div class="location"><a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/LuaSandbox/LuaSandbox.php#L130">at line 130</a></div>
        <code>                    
    <strong>getPeakMemoryUsage</strong>()
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Fetch the peak memory usage of the Lua environment.</p>
</p>                        
        </div>
        <div class="tags">
            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getProfilerFunctionReport">
        <div class="location"><a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/LuaSandbox/LuaSandbox.php#L158">at line 158</a></div>
        <code>                    
    <strong>getProfilerFunctionReport</strong>($units = LuaSandbox::SECONDS)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Fetch profiler data.</p>
</p>                <p><p>For a profiling instance previously started by ```LuaSandbox::enableProfiler()```,
get a report of the cost of each function.</p>
<p>The measurement unit used for the cost is determined by the $units parameter:</p>
<li>```LuaSandbox::SAMPLES``` Measure in number of samples.</li>
<li>```LuaSandbox::SECONDS``` Measure in seconds of CPU time.</li>
<li>```LuaSandbox::PERCENT``` Measure percentage of CPU time.</li>
<p>Note: On Windows, this function always returns an empty array.
On operating systems that do not support <i>CLOCK_THREAD_CPUTIME_ID</i>,
such as FreeBSD and Mac OS X, this function will report the
elapsed wall-clock time, not CPU time.</p>
</p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$units</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getVersionInfo">
        <div class="location"><a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/LuaSandbox/LuaSandbox.php#L169">at line 169</a></div>
        <code>        static            
    <strong>getVersionInfo</strong>()
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Return the versions of LuaSandbox and Lua.</p>
</p>                        
        </div>
        <div class="tags">
            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_loadBinary">
        <div class="location"><a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/LuaSandbox/LuaSandbox.php#L183">at line 183</a></div>
        <code>                    
    <strong>loadBinary</strong>($code, $chunkName = &#039;&#039;)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Load a precompiled binary chunk into the Lua environment.</p>
</p>                <p><p>Loads data generated by ```LuaSandboxFunction::dump()```.</p>
</p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$code</td>
                <td></td>
            </tr>
                    <tr>
                <td></td>
                <td>$chunkName</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_loadString">
        <div class="location"><a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/LuaSandbox/LuaSandbox.php#L199">at line 199</a></div>
        <code>                    
    <strong>loadString</strong>($code, $chunkName = &#039;&#039;)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Load Lua code into the Lua environment.</p>
</p>                <p><p>This is the equivalent of standard Lua's ```loadstring()``` function.</p>
</p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$code</td>
                <td></td>
            </tr>
                    <tr>
                <td></td>
                <td>$chunkName</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_pauseUsageTimer">
        <div class="location"><a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/LuaSandbox/LuaSandbox.php#L222">at line 222</a></div>
        <code>                    
    <strong>pauseUsageTimer</strong>()
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Pause the CPU usage timer.</p>
</p>                <p><p>This only has effect when called from within a callback from Lua.
When execution returns to Lua, the timer will be automatically unpaused.
If a new call into Lua is made, the timer will be unpaused
for the duration of that call.</p>
<p>If a PHP callback calls into Lua again with timer not paused,
and then that Lua function calls into PHP again,
the second PHP call will not be able to pause the timer.
The logic is that even though the second PHP call would
avoid counting the CPU usage against the limit,
the first call still counts it.</p>
</p>        
        </div>
        <div class="tags">
            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_registerLibrary">
        <div class="location"><a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/LuaSandbox/LuaSandbox.php#L243">at line 243</a></div>
        <code>                    
    <strong>registerLibrary</strong>($libname, $functions)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Register a set of PHP functions as a Lua library.</p>
</p>                <p><p>Registers a set of PHP functions as a Lua library,
so that Lua can call the relevant PHP code.</p>
<p>For more information about calling Lua functions and the return values,
see ```LuaSandboxFunction::call()```.</p>
</p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$libname</td>
                <td></td>
            </tr>
                    <tr>
                <td></td>
                <td>$functions</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_setCPULimit">
        <div class="location"><a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/LuaSandbox/LuaSandbox.php#L266">at line 266</a></div>
        <code>                    
    <strong>setCPULimit</strong>($limit)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Set the CPU time limit for the Lua environment.</p>
</p>                <p><p>If the total user and system time used by the environment after the call
to this method exceeds this limit, a ```LuaSandboxTimeoutError``` exception is thrown.</p>
<p>Time used in PHP callbacks is included in the limit.</p>
<p>Setting the time limit from a callback while Lua is running causes the timer to be reset,
or started if it was not already running.</p>
<p>Note: On Windows, the CPU limit will be ignored. On operating systems
that do not support <i>CLOCK_THREAD_CPUTIME_ID</i>, such as FreeBSD and
Mac OS X, wall-clock time rather than CPU time will be limited.</p>
</p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$limit</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_setMemoryLimit">
        <div class="location"><a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/LuaSandbox/LuaSandbox.php#L279">at line 279</a></div>
        <code>                    
    <strong>setMemoryLimit</strong>($limit)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Set the memory limit for the Lua environment.</p>
</p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$limit</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_unpauseUsageTimer">
        <div class="location"><a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/LuaSandbox/LuaSandbox.php#L289">at line 289</a></div>
        <code>                    
    <strong>unpauseUsageTimer</strong>()
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Unpause the timer paused by <code>LuaSandbox::pauseUsageTimer()</code>.</p>
</p>                        
        </div>
        <div class="tags">
            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_wrapPhpFunction">
        <div class="location"><a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/LuaSandbox/LuaSandbox.php#L313">at line 313</a></div>
        <code>                    
    <strong>wrapPhpFunction</strong>($function)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Wrap a PHP callable in a LuaSandboxFunction.</p>
</p>                <p><p>Wraps a PHP callable in a ```LuaSandboxFunction```,
so it can be passed into Lua as an anonymous function.</p>
<p>The function must return either an array of values (which may be empty),
or NULL which is equivalent to returning the empty array.</p>
<p>Exceptions will be raised as errors in Lua, however only ```LuaSandboxRuntimeError```
exceptions may be caught inside Lua with ```pcall()<code/> or ```xpcall()<code/>.</p>
<p>For more information about calling Lua functions and the return values,
see ```LuaSandboxFunction::call()```.</p>
</p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$function</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
            </div>

    
</div><div id="footer">
        Generated by <a href="https://github.com/code-lts/doctum">Doctum, a API Documentation generator and fork of Sami</a>.            <br/>This documentation is built using <a href="https://github.com/JetBrains/phpstorm-stubs#readme" rel="noreferrer noopener" target="_blank">phpstorm-stubs</a> from JetBrains.</div></div>
    </div>
    </body>

</html>
