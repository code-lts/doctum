<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>DoliDB | Dolibarr</title>

            <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="css/doctum.css">
        <link rel="stylesheet" type="text/css" href="fonts/doctum-font.css">
        <script src="js/jquery-3.5.1.slim.min.js"></script>
        <script async defer src="doctum.js"></script>
        <script async defer src="js/bootstrap.min.js"></script>
        <script async defer src="js/autocomplete.min.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">

    </head>

    <body id="class" data-name="class:DoliDB" data-root-path="" data-search-index-url="doctum-search.json">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                    <form action="#">
                <select class="form-control" id="version-switcher" name="version">
                                            <option
                            value="/index.html"
                            data-version="9.0" >9.0</option>
                                            <option
                            value="/index.html"
                            data-version="10.0" >10.0</option>
                                            <option
                            value="/index.html"
                            data-version="11.0" >11.0</option>
                                            <option
                            value="/index.html"
                            data-version="12.0" >12.0</option>
                                            <option
                            value="/index.html"
                            data-version="13.0" >13.0</option>
                                            <option
                            value="/index.html"
                            data-version="14.0" >14.0</option>
                                            <option
                            value="/index.html"
                            data-version="15.0" >15.0</option>
                                            <option
                            value="/index.html"
                            data-version="16.0" >16.0</option>
                                            <option
                            value="/index.html"
                            data-version="17.0" >17.0</option>
                                            <option
                            value="/index.html"
                            data-version="18.0" >18.0</option>
                                            <option
                            value="/index.html"
                            data-version="19.0" >19.0</option>
                                            <option
                            value="/index.html"
                            data-version="20.0" >20.0</option>
                                            <option
                            value="/index.html"
                            data-version="3.0" >3.0</option>
                                            <option
                            value="/index.html"
                            data-version="21.0" >21.0</option>
                                            <option
                            value="/index.html"
                            data-version="4.0" >4.0</option>
                                            <option
                            value="/index.html"
                            data-version="5.0" >5.0</option>
                                            <option
                            value="/index.html"
                            data-version="6.0" >6.0</option>
                                            <option
                            value="/index.html"
                            data-version="7.0" >7.0</option>
                                            <option
                            value="/index.html"
                            data-version="8.0" >8.0</option>
                                            <option
                            value="/index.html"
                            data-version="22.0" selected>22.0</option>
                                            <option
                            value="/index.html"
                            data-version="23.0" >23.0</option>
                                    </select>
            </form>
                <div class="search-bar hidden" id="search-progress-bar-container">
            <div class="progress">
                <div class="progress-bar" role="progressbar" id="search-progress-bar"
                    aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
            </div>
        </div>
        <form id="search-form" action="search.html">
            <span class="icon icon-search"></span>
            <input name="search"
                   id="doctum-search-auto-complete"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search"
                   spellcheck="false"
                   autocorrect="off"
                   autocomplete="off"
                   autocapitalize="off">
            <div class="auto-complete-results" id="auto-complete-results"></div>
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">Dolibarr</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                                        <li role="presentation" class="dropdown visible-xs-block visible-sm-block">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#"
                            role="button" aria-haspopup="true" aria-expanded="false">Versions&nbsp;<span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                        <li ><a href="/index.html" data-version="9.0">9.0</a></li>
                        <li ><a href="/index.html" data-version="10.0">10.0</a></li>
                        <li ><a href="/index.html" data-version="11.0">11.0</a></li>
                        <li ><a href="/index.html" data-version="12.0">12.0</a></li>
                        <li ><a href="/index.html" data-version="13.0">13.0</a></li>
                        <li ><a href="/index.html" data-version="14.0">14.0</a></li>
                        <li ><a href="/index.html" data-version="15.0">15.0</a></li>
                        <li ><a href="/index.html" data-version="16.0">16.0</a></li>
                        <li ><a href="/index.html" data-version="17.0">17.0</a></li>
                        <li ><a href="/index.html" data-version="18.0">18.0</a></li>
                        <li ><a href="/index.html" data-version="19.0">19.0</a></li>
                        <li ><a href="/index.html" data-version="20.0">20.0</a></li>
                        <li ><a href="/index.html" data-version="3.0">3.0</a></li>
                        <li ><a href="/index.html" data-version="21.0">21.0</a></li>
                        <li ><a href="/index.html" data-version="4.0">4.0</a></li>
                        <li ><a href="/index.html" data-version="5.0">5.0</a></li>
                        <li ><a href="/index.html" data-version="6.0">6.0</a></li>
                        <li ><a href="/index.html" data-version="7.0">7.0</a></li>
                        <li ><a href="/index.html" data-version="8.0">8.0</a></li>
                        <li class="active"><a href="/index.html" data-version="22.0">22.0</a></li>
                        <li ><a href="/index.html" data-version="23.0">23.0</a></li>
                        </ul>
                    </li>
                    <li><a href="classes.html">Classes</a></li>
                    <li><a href="namespaces.html">Namespaces</a></li>
                    <li><a href="interfaces.html">Interfaces</a></li>
                    <li><a href="traits.html">Traits</a></li>
                    <li><a href="doc-index.html">Index</a></li>
                    <li><a href="search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                            <div id="page-content">
    <div class="page-header">
        <h1>DoliDB    
            </h1>
    </div>

    
    <p>    abstract     class
    <strong>DoliDB</strong>        implements        <a href="Database.html">Database</a>        (<a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php">View source</a>)
</p>

        
        
    
        

            <div class="description">
            <p><p>Class to manage Dolibarr database access</p></p>                    </div>
            
        
            <h2>Constants</h2>    <table class="table table-condensed">
                    <tr>
                <td>
                                                                                                                        VERSIONMIN
                                    </td>
                <td class="last">
                    <p><em><p>Force subclass to implement VERSIONMIN - required DB version</p></em></p>
                    <p></p>
                </td>
            </tr>
                    <tr>
                <td>
                                                                                                                        LABEL
                                    </td>
                <td class="last">
                    <p><em><p>Force subclass to implement LABEL - description of DB type</p></em></p>
                    <p></p>
                </td>
            </tr>
            </table>

    
            <h2>Properties</h2>

            <table class="table table-condensed">
                    <tr>
                <td class="type" id="property_db">
                                                                                false|resource|mysqli|<a href="mysqliDoli.html">mysqliDoli</a>|<a target="_blank" rel="noopener" href="https://www.php.net/SQLite3">SQLite3</a>|<abbr title="PgSql\Connection">Connection</abbr>|<a href="DoliDB.html">DoliDB</a>
                                                                                
                                    </td>
                <td>$db</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_type">
                                                                                string
                                                                                
                                    </td>
                <td>$type</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_forcecharset">
                                                                                string
                                                                                
                                    </td>
                <td>$forcecharset</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_forcecollate">
                                                                                string
                                                                                
                                    </td>
                <td>$forcecollate</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_connected">
                                                                                bool
                                                                                
                                    </td>
                <td>$connected</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_database_selected">
                                                                                bool
                                                                                
                                    </td>
                <td>$database_selected</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_database_name">
                                                                                string
                                                                                
                                    </td>
                <td>$database_name</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_database_user">
                                                                                string
                                                                                
                                    </td>
                <td>$database_user</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_database_host">
                                                                                string
                                                                                
                                    </td>
                <td>$database_host</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_database_port">
                                                                                int
                                                                                
                                    </td>
                <td>$database_port</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_transaction_opened">
                                                                                int
                                                                                
                                    </td>
                <td>$transaction_opened</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_lastquery">
                                                                                string
                                                                                
                                    </td>
                <td>$lastquery</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_lastqueryerror">
                                                                                string
                                                                                
                                    </td>
                <td>$lastqueryerror</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_lasterror">
                                                                                string
                                                                                
                                    </td>
                <td>$lasterror</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_lasterrno">
                                                                                string
                                                                                
                                    </td>
                <td>$lasterrno</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_prefix_db">
                                                                                string
                                                                                
                                    </td>
                <td>$prefix_db</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_ok">
                                                                                bool
                                                                                
                                    </td>
                <td>$ok</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_error">
                                                                                string
                                                                                
                                    </td>
                <td>$error</td>
                <td class="last"></td>
                <td></td>
            </tr>
            </table>

    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_prefix">prefix</a>()
        
                                            <p><p>Return the DB prefix found into prefix_db (if it was set manually by doing $dbhandler-&gt;prefix_db=...).</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_ifsql">ifsql</a>(string $test, string $resok, string $resko)
        
                                            <p><p>Format a SQL IF</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_stddevpop">stddevpop</a>(string $nameoffield)
        
                                            <p><p>Return SQL string to aggregate using the Standard Deviation of population</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_hintindex">hintindex</a>(string $nameofindex, int $mode = 1)
        
                                            <p><p>Return SQL string to force an index</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_regexpsql">regexpsql</a>(string $subject, string $pattern, int $sqlstring = 0)
        
                                            <p><p>Format a SQL REGEXP</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_idate">idate</a>(int $param, &quot;gmt&quot;|&quot;tzserver&quot; $gm = &#039;tzserver&#039;)
        
                                            <p><p>Convert (by PHP) a GM Timestamp date into a string date with PHP server TZ to insert into a date field.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_lasterrno">lasterrno</a>()
        
                                            <p><p>Return last error code</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_sanitize">sanitize</a>(string $stringtosanitize, int $allowsimplequote = 0, int $allowsequals = 0, int $allowsspace = 0, int $allowschars = 1)
        
                                            <p><p>Sanitize a string for SQL forging</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    int
                </div>
                <div class="col-md-8">
                    <a href="#method_begin">begin</a>(string $textinlog = &#039;&#039;)
        
                                            <p><p>Start transaction</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    int
                </div>
                <div class="col-md-8">
                    <a href="#method_commit">commit</a>(string $log = &#039;&#039;)
        
                                            <p><p>Validate a database transaction</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    int
                </div>
                <div class="col-md-8">
                    <a href="#method_rollback">rollback</a>(string $log = &#039;&#039;)
        
                                            <p><p>Cancel a transaction and go back to initial data values</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_plimit">plimit</a>(int $limit = 0, int $offset = 0)
        
                                            <p><p>Define limits and offset of request</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string[]
                </div>
                <div class="col-md-8">
                    <a href="#method_getVersionArray">getVersionArray</a>()
        
                                            <p><p>Return version of database server into an array</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_lastquery">lastquery</a>()
        
                                            <p><p>Return last request executed with query()</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_order">order</a>(string $sortfield = &#039;&#039;, string $sortorder = &#039;&#039;)
        
                                            <p><p>Define sort criteria of request</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_lasterror">lasterror</a>()
        
                                            <p><p>Return last error label</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    int|&quot;&quot;
                </div>
                <div class="col-md-8">
                    <a href="#method_jdate">jdate</a>(string $string, bool $gm = &#039;tzserver&#039;)
        
                                            <p><p>Convert (by PHP) a PHP server TZ string date into a Timestamps date (GMT if gm=true)
19700101020000 -&gt; 3600 with server TZ = +1 and $gm='tzserver'
19700101020000 -&gt; 7200 whatever is server TZ if $gm='gmt'</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_lastqueryerror">lastqueryerror</a>()
        
                                            <p><p>Return last query in error</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool|int|object
                </div>
                <div class="col-md-8">
                    <a href="#method_getRow">getRow</a>(string $sql)
        
                                            <p><p>Return first result from query as object
Note : This method executes a given SQL query and retrieves the first row of results as an object. It should only be used with SELECT queries
Don't add LIMIT to your query, it will be added by this method</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    false|object[]
                </div>
                <div class="col-md-8">
                    <a href="#method_getRows">getRows</a>(string $sql)
        
                                            <p><p>Return all results from query as an array of objects. Using this is a bad practice and is discouraged.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method_prefix">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php#L91">at line 91</a></div>
        <code>                    string
    <strong>prefix</strong>()
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Return the DB prefix found into prefix_db (if it was set manually by doing $dbhandler-&gt;prefix_db=...).</p></p>                <p><p>Otherwise return MAIN_DB_PREFIX (common use).</p></p>        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td><p>The DB prefix</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_ifsql">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php#L104">at line 104</a></div>
        <code>                    string
    <strong>ifsql</strong>(string $test, string $resok, string $resko)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Format a SQL IF</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$test</td>
                <td><p>Test string (example: 'cd.statut=0', 'field IS NULL')</p></td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$resok</td>
                <td><p>result if test is equal</p></td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$resko</td>
                <td><p>result if test is not equal</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td><p>SQL string</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_stddevpop">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php#L116">at line 116</a></div>
        <code>                    string
    <strong>stddevpop</strong>(string $nameoffield)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Return SQL string to aggregate using the Standard Deviation of population</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$nameoffield</td>
                <td><p>Name of field</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td><p>SQL string</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_hintindex">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php#L128">at line 128</a></div>
        <code>                    string
    <strong>hintindex</strong>(string $nameofindex, int $mode = 1)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Return SQL string to force an index</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$nameofindex</td>
                <td><p>Name of index</p></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$mode</td>
                <td><p>0=Use, 1=Force</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td><p>SQL string</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_regexpsql">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php#L142">at line 142</a></div>
        <code>                    string
    <strong>regexpsql</strong>(string $subject, string $pattern, int $sqlstring = 0)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Format a SQL REGEXP</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$subject</td>
                <td><p>Field name to test</p></td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$pattern</td>
                <td><p>SQL pattern to match</p></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$sqlstring</td>
                <td><p>0=the string being tested is a hard coded string, 1=the string is a field</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td><p>SQL string</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_idate">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php#L160">at line 160</a></div>
        <code>                    string
    <strong>idate</strong>(int $param, &quot;gmt&quot;|&quot;tzserver&quot; $gm = &#039;tzserver&#039;)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Convert (by PHP) a GM Timestamp date into a string date with PHP server TZ to insert into a date field.</p></p>                <p><p>Function to use to build INSERT, UPDATE or WHERE predica</p></p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>int</td>
                <td>$param</td>
                <td><p>Date TMS to convert</p></td>
            </tr>
                    <tr>
                <td>&quot;gmt&quot;|&quot;tzserver&quot;</td>
                <td>$gm</td>
                <td><p>'gmt'=Input information are GMT values, 'tzserver'=Local to server TZ</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td><p>Date in a string YYYYMMDDHHMMSS</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_lasterrno">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php#L171">at line 171</a></div>
        <code>                    string
    <strong>lasterrno</strong>()
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Return last error code</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td>lasterrno</td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_sanitize">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php#L187">at line 187</a></div>
        <code>                    string
    <strong>sanitize</strong>(string $stringtosanitize, int $allowsimplequote = 0, int $allowsequals = 0, int $allowsspace = 0, int $allowschars = 1)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Sanitize a string for SQL forging</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$stringtosanitize</td>
                <td><p>String to escape</p></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$allowsimplequote</td>
                <td><p>1=Allow simple quotes in string around val separated by &quot;,&quot; but only when string is used as a list of SQL string &quot;'aa', 'bb', 'cc', ...&quot;). Can be used for IN ...
2=Allow all simple quotes. If you use this value, the return MUST be escaped to forge SQL strings.</p></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$allowsequals</td>
                <td><p>1=Allow equals sign</p></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$allowsspace</td>
                <td><p>1=Allow space char</p></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$allowschars</td>
                <td><p>1=Allow a-z chars</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td><p>String escaped</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_begin">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php#L216">at line 216</a></div>
        <code>                    int
    <strong>begin</strong>(string $textinlog = &#039;&#039;)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Start transaction</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$textinlog</td>
                <td><p>Add a small text into log. '' by default.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>int</td>
            <td><p>1 if transaction successfully opened or already opened, 0 if error</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_commit">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php#L241">at line 241</a></div>
        <code>                    int
    <strong>commit</strong>(string $log = &#039;&#039;)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Validate a database transaction</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$log</td>
                <td><p>Add more log to default log line</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>int</td>
            <td><p>1 if validation is OK or transaction level no started, 0 if ERROR</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_rollback">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php#L265">at line 265</a></div>
        <code>                    int
    <strong>rollback</strong>(string $log = &#039;&#039;)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Cancel a transaction and go back to initial data values</p></p>                <p><pre><code>@param  string          $log        Add more log to default log line</code></pre></p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$log</td>
                <td><p>Add more log to default log line</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>int</td>
            <td><p>1 if cancellation ok or transaction not open, 0 if error</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_plimit">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php#L286">at line 286</a></div>
        <code>                    string
    <strong>plimit</strong>(int $limit = 0, int $offset = 0)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Define limits and offset of request</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>int</td>
                <td>$limit</td>
                <td><p>Maximum number of lines returned (-1=conf-&gt;liste_limit, 0=no limit)</p></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$offset</td>
                <td><p>Numero of line from where starting fetch</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td><p>String with SQL syntax to add a limit and offset</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getVersionArray">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php#L307">at line 307</a></div>
        <code>                    string[]
    <strong>getVersionArray</strong>()
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Return version of database server into an array</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string[]</td>
            <td><p>Version array</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_lastquery">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php#L317">at line 317</a></div>
        <code>                    string
    <strong>lastquery</strong>()
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Return last request executed with query()</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td><p>Last query</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_order">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php#L329">at line 329</a></div>
        <code>                    string
    <strong>order</strong>(string $sortfield = &#039;&#039;, string $sortorder = &#039;&#039;)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Define sort criteria of request</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$sortfield</td>
                <td><p>List of sort fields</p></td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$sortorder</td>
                <td><p>Sort order</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td><p>String to provide syntax of a sort sql string</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_lasterror">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php#L385">at line 385</a></div>
        <code>                    string
    <strong>lasterror</strong>()
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Return last error label</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td>lasterror</td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_jdate">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php#L399">at line 399</a></div>
        <code>                    int|&quot;&quot;
    <strong>jdate</strong>(string $string, bool $gm = &#039;tzserver&#039;)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Convert (by PHP) a PHP server TZ string date into a Timestamps date (GMT if gm=true)
19700101020000 -&gt; 3600 with server TZ = +1 and $gm='tzserver'
19700101020000 -&gt; 7200 whatever is server TZ if $gm='gmt'</p></p>                <p><pre><code>@param  string              $string     Date in a string (YYYYMMDDHHMMSS, YYYYMMDD, YYYY-MM-DD HH:MM:SS)</code></pre></p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$string</td>
                <td><p>Date in a string (YYYYMMDDHHMMSS, YYYYMMDD, YYYY-MM-DD HH:MM:SS)</p></td>
            </tr>
                    <tr>
                <td>bool</td>
                <td>$gm</td>
                <td><p>1=Input information are GMT values, otherwise local to server TZ</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>int|&quot;&quot;</td>
            <td><p>Date TMS or ''</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_lastqueryerror">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php#L416">at line 416</a></div>
        <code>                    string
    <strong>lastqueryerror</strong>()
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Return last query in error</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td>lastqueryerror</td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getRow">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php#L429">at line 429</a></div>
        <code>                    bool|int|object
    <strong>getRow</strong>(string $sql)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Return first result from query as object
Note : This method executes a given SQL query and retrieves the first row of results as an object. It should only be used with SELECT queries
Don't add LIMIT to your query, it will be added by this method</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$sql</td>
                <td><p>The sql query string</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool|int|object</td>
            <td><p>False on failure, 0 on empty, object on success</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getRows">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/22.0/htdocs/core/db/DoliDB.class.php#L455">at line 455</a></div>
        <code>                    false|object[]
    <strong>getRows</strong>(string $sql)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Return all results from query as an array of objects. Using this is a bad practice and is discouraged.</p></p>                <p><p>Note : It should only be used with SELECT queries and with a limit. If you are not able to defined/know what can be the limit, it
just means this function is not what you need. Do not use it.</p></p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$sql</td>
                <td><p>The sql query string. Must end with &quot;... LIMIT x&quot;</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>false|object[]</td>
            <td>Result</td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
            </div>

    
</div><div id="footer">
        Generated by <a href="https://github.com/code-lts/doctum">Doctum, a API Documentation generator and fork of Sami</a>.            <br/>This documentation is built for the <a href="https://github.com/Dolibarr/dolibarr" rel="noreferrer noopener" target="_blank">Dolibarr</a> project.</div></div>
    </div>
    </body>

</html>
