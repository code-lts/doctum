<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>DiscountAbsolute | Dolibarr</title>

            <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="css/doctum.css">
        <link rel="stylesheet" type="text/css" href="fonts/doctum-font.css">
        <script src="js/jquery-3.5.1.slim.min.js"></script>
        <script async defer src="doctum.js"></script>
        <script async defer src="js/bootstrap.min.js"></script>
        <script async defer src="js/autocomplete.min.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">

    </head>

    <body id="class" data-name="class:DiscountAbsolute" data-root-path="" data-search-index-url="doctum-search.json">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                    <form action="#">
                <select class="form-control" id="version-switcher" name="version">
                                            <option
                            value="/index.html"
                            data-version="9.0" >9.0</option>
                                            <option
                            value="/index.html"
                            data-version="10.0" >10.0</option>
                                            <option
                            value="/index.html"
                            data-version="11.0" >11.0</option>
                                            <option
                            value="/index.html"
                            data-version="12.0" >12.0</option>
                                            <option
                            value="/index.html"
                            data-version="13.0" >13.0</option>
                                            <option
                            value="/index.html"
                            data-version="14.0" >14.0</option>
                                            <option
                            value="/index.html"
                            data-version="15.0" >15.0</option>
                                            <option
                            value="/index.html"
                            data-version="16.0" >16.0</option>
                                            <option
                            value="/index.html"
                            data-version="17.0" >17.0</option>
                                            <option
                            value="/index.html"
                            data-version="18.0" >18.0</option>
                                            <option
                            value="/index.html"
                            data-version="19.0" >19.0</option>
                                            <option
                            value="/index.html"
                            data-version="20.0" >20.0</option>
                                            <option
                            value="/index.html"
                            data-version="3.0" selected>3.0</option>
                                            <option
                            value="/index.html"
                            data-version="21.0" >21.0</option>
                                            <option
                            value="/index.html"
                            data-version="4.0" >4.0</option>
                                            <option
                            value="/index.html"
                            data-version="5.0" >5.0</option>
                                            <option
                            value="/index.html"
                            data-version="6.0" >6.0</option>
                                            <option
                            value="/index.html"
                            data-version="7.0" >7.0</option>
                                            <option
                            value="/index.html"
                            data-version="8.0" >8.0</option>
                                            <option
                            value="/index.html"
                            data-version="22.0" >22.0</option>
                                            <option
                            value="/index.html"
                            data-version="23.0" >23.0</option>
                                    </select>
            </form>
                <div class="search-bar hidden" id="search-progress-bar-container">
            <div class="progress">
                <div class="progress-bar" role="progressbar" id="search-progress-bar"
                    aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
            </div>
        </div>
        <form id="search-form" action="search.html">
            <span class="icon icon-search"></span>
            <input name="search"
                   id="doctum-search-auto-complete"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search"
                   spellcheck="false"
                   autocorrect="off"
                   autocomplete="off"
                   autocapitalize="off">
            <div class="auto-complete-results" id="auto-complete-results"></div>
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">Dolibarr</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                                        <li role="presentation" class="dropdown visible-xs-block visible-sm-block">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#"
                            role="button" aria-haspopup="true" aria-expanded="false">Versions&nbsp;<span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                        <li ><a href="/index.html" data-version="9.0">9.0</a></li>
                        <li ><a href="/index.html" data-version="10.0">10.0</a></li>
                        <li ><a href="/index.html" data-version="11.0">11.0</a></li>
                        <li ><a href="/index.html" data-version="12.0">12.0</a></li>
                        <li ><a href="/index.html" data-version="13.0">13.0</a></li>
                        <li ><a href="/index.html" data-version="14.0">14.0</a></li>
                        <li ><a href="/index.html" data-version="15.0">15.0</a></li>
                        <li ><a href="/index.html" data-version="16.0">16.0</a></li>
                        <li ><a href="/index.html" data-version="17.0">17.0</a></li>
                        <li ><a href="/index.html" data-version="18.0">18.0</a></li>
                        <li ><a href="/index.html" data-version="19.0">19.0</a></li>
                        <li ><a href="/index.html" data-version="20.0">20.0</a></li>
                        <li class="active"><a href="/index.html" data-version="3.0">3.0</a></li>
                        <li ><a href="/index.html" data-version="21.0">21.0</a></li>
                        <li ><a href="/index.html" data-version="4.0">4.0</a></li>
                        <li ><a href="/index.html" data-version="5.0">5.0</a></li>
                        <li ><a href="/index.html" data-version="6.0">6.0</a></li>
                        <li ><a href="/index.html" data-version="7.0">7.0</a></li>
                        <li ><a href="/index.html" data-version="8.0">8.0</a></li>
                        <li ><a href="/index.html" data-version="22.0">22.0</a></li>
                        <li ><a href="/index.html" data-version="23.0">23.0</a></li>
                        </ul>
                    </li>
                    <li><a href="classes.html">Classes</a></li>
                    <li><a href="interfaces.html">Interfaces</a></li>
                    <li><a href="traits.html">Traits</a></li>
                    <li><a href="doc-index.html">Index</a></li>
                    <li><a href="search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                            <div id="page-content">
    <div class="page-header">
        <h1>DiscountAbsolute    
            </h1>
    </div>

    
    <p>        class
    <strong>DiscountAbsolute</strong>        (<a href="https://github.com/dolibarr/dolibarr/blob/3.0/htdocs/core/class/discount.class.php">View source</a>)
</p>

        
        
    
        

            <div class="description">
            <p><p>\class      DiscountAbsolute
\brief      Classe permettant la gestion des remises fixes</p></p>                    </div>
            
        
    
            <h2>Properties</h2>

            <table class="table table-condensed">
                    <tr>
                <td class="type" id="property_db">
                                                                                
                                                                                
                                    </td>
                <td>$db</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_error">
                                                                                
                                                                                
                                    </td>
                <td>$error</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_id">
                                                                                
                                                                                
                                    </td>
                <td>$id</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_amount_ht">
                                                                                
                                                                                
                                    </td>
                <td>$amount_ht</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_amount_tva">
                                                                                
                                                                                
                                    </td>
                <td>$amount_tva</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_amount_ttc">
                                                                                
                                                                                
                                    </td>
                <td>$amount_ttc</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_tva_tx">
                                                                                
                                                                                
                                    </td>
                <td>$tva_tx</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_fk_user">
                                                                                
                                                                                
                                    </td>
                <td>$fk_user</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_description">
                                                                                
                                                                                
                                    </td>
                <td>$description</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_datec">
                                                                                
                                                                                
                                    </td>
                <td>$datec</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_fk_facture_line">
                                                                                
                                                                                
                                    </td>
                <td>$fk_facture_line</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_fk_facture">
                                                                                
                                                                                
                                    </td>
                <td>$fk_facture</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_fk_facture_source">
                                                                                
                                                                                
                                    </td>
                <td>$fk_facture_source</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_ref_facture_source">
                                                                                
                                                                                
                                    </td>
                <td>$ref_facture_source</td>
                <td class="last"></td>
                <td></td>
            </tr>
            </table>

    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_DiscountAbsolute">DiscountAbsolute</a>($DB)
        
                                            <p><p>\brief  Constructeur de la classe
\param  DB          handler acc�s base de donn�es</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_fetch">fetch</a>($rowid, $fk_facture_source = 0)
        
                                            <p><p>\brief      Load object from database into memory
\param      rowid               id discount to load
\param      fk_facture_source   fk_facture_source
\return     int                 &lt;0 if KO, =0 if not found, &gt;0 if OK</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_create">create</a>($user)
        
                                            <p><p>\brief      Create in database
\param      user        User that create
\return     int         &lt;0 si ko, &gt;0 si ok</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_delete">delete</a>($user)
        
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_link_to_invoice">link_to_invoice</a>($rowidline, $rowidinvoice)
        
                                            <p><p>\brief      Link the discount to a particular invoice line or a particular invoice
\param      rowidline       Invoice line id
\param      rowidinvoice    Invoice id
\return     int             &lt;0 ko, &gt;0 ok</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_unlink_invoice">unlink_invoice</a>()
        
                                            <p><p>\brief      Link the discount to a particular invoice line or a particular invoice
\remarks    Do not call this if discount is linked to a reconcialiated invoice
\param      rowidline           Invoice line id
\param      rowidinvoice        Invoice id
\return     int                 &lt;0 if KO, &gt;0 if OK</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_getAvailableDiscounts">getAvailableDiscounts</a>($company = &#039;&#039;, $user = &#039;&#039;, $filter = &#039;&#039;, $maxvalue = 0)
        
                                            <p><p>\brief      Renvoie montant TTC des reductions/avoirs en cours disponibles pour une société, un user ou autre
\param      company     Object third party for filter
\param      user        Filtre sur un user auteur des remises
\param      filter      Filtre autre
\param      maxvalue    Filter on max value for discount
\return     int         &lt;0 si ko, montant avoir sinon</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_getSumCreditNotesUsed">getSumCreditNotesUsed</a>($invoice)
        
                                            <p><p>\brief      Return amount (with tax) of all credit notes and deposits invoices used by invoice
\return     int         &lt;0 if KO, Sum of credit notes and deposits amount otherwise</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_getSumDepositsUsed">getSumDepositsUsed</a>($invoice)
        
                                            <p><p>\brief      Return amount (with tax) of all deposits invoices used by invoice
\return     int         &lt;0 if KO, Sum of credit notes and deposits amount otherwise</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method_getNomUrl">getNomUrl</a>($withpicto, $option = &#039;invoice&#039;)
        
                                            <p><p>\brief      Return clicable ref of object (with picto or not)
\param      withpicto       0=Pas de picto, 1=Inclut le picto dans le lien, 2=Picto seul
\param      option          Sur quoi pointe le lien
\return     string          Chaine avec URL</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method_DiscountAbsolute">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/3.0/htdocs/core/class/discount.class.php#L54">at line 54</a></div>
        <code>                    
    <strong>DiscountAbsolute</strong>($DB)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>\brief  Constructeur de la classe
\param  DB          handler acc�s base de donn�es</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$DB</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_fetch">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/3.0/htdocs/core/class/discount.class.php#L66">at line 66</a></div>
        <code>                    
    <strong>fetch</strong>($rowid, $fk_facture_source = 0)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>\brief      Load object from database into memory
\param      rowid               id discount to load
\param      fk_facture_source   fk_facture_source
\return     int                 &lt;0 if KO, =0 if not found, &gt;0 if OK</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$rowid</td>
                <td></td>
            </tr>
                    <tr>
                <td></td>
                <td>$fk_facture_source</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_create">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/3.0/htdocs/core/class/discount.class.php#L131">at line 131</a></div>
        <code>                    
    <strong>create</strong>($user)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>\brief      Create in database
\param      user        User that create
\return     int         &lt;0 si ko, &gt;0 si ok</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$user</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_delete">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/3.0/htdocs/core/class/discount.class.php#L181">at line 181</a></div>
        <code>                    
    <strong>delete</strong>($user)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p class="no-description">No description</p>
                    
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$user</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_link_to_invoice">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/3.0/htdocs/core/class/discount.class.php#L269">at line 269</a></div>
        <code>                    
    <strong>link_to_invoice</strong>($rowidline, $rowidinvoice)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>\brief      Link the discount to a particular invoice line or a particular invoice
\param      rowidline       Invoice line id
\param      rowidinvoice    Invoice id
\return     int             &lt;0 ko, &gt;0 ok</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$rowidline</td>
                <td></td>
            </tr>
                    <tr>
                <td></td>
                <td>$rowidinvoice</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_unlink_invoice">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/3.0/htdocs/core/class/discount.class.php#L310">at line 310</a></div>
        <code>                    
    <strong>unlink_invoice</strong>()
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>\brief      Link the discount to a particular invoice line or a particular invoice
\remarks    Do not call this if discount is linked to a reconcialiated invoice
\param      rowidline           Invoice line id
\param      rowidinvoice        Invoice id
\return     int                 &lt;0 if KO, &gt;0 if OK</p></p>                        
        </div>
        <div class="tags">
            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getAvailableDiscounts">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/3.0/htdocs/core/class/discount.class.php#L339">at line 339</a></div>
        <code>                    
    <strong>getAvailableDiscounts</strong>($company = &#039;&#039;, $user = &#039;&#039;, $filter = &#039;&#039;, $maxvalue = 0)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>\brief      Renvoie montant TTC des reductions/avoirs en cours disponibles pour une société, un user ou autre
\param      company     Object third party for filter
\param      user        Filtre sur un user auteur des remises
\param      filter      Filtre autre
\param      maxvalue    Filter on max value for discount
\return     int         &lt;0 si ko, montant avoir sinon</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$company</td>
                <td></td>
            </tr>
                    <tr>
                <td></td>
                <td>$user</td>
                <td></td>
            </tr>
                    <tr>
                <td></td>
                <td>$filter</td>
                <td></td>
            </tr>
                    <tr>
                <td></td>
                <td>$maxvalue</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getSumCreditNotesUsed">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/3.0/htdocs/core/class/discount.class.php#L370">at line 370</a></div>
        <code>                    
    <strong>getSumCreditNotesUsed</strong>($invoice)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>\brief      Return amount (with tax) of all credit notes and deposits invoices used by invoice
\return     int         &lt;0 if KO, Sum of credit notes and deposits amount otherwise</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$invoice</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getSumDepositsUsed">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/3.0/htdocs/core/class/discount.class.php#L394">at line 394</a></div>
        <code>                    
    <strong>getSumDepositsUsed</strong>($invoice)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>\brief      Return amount (with tax) of all deposits invoices used by invoice
\return     int         &lt;0 if KO, Sum of credit notes and deposits amount otherwise</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$invoice</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getNomUrl">
        <div class="location"><a href="https://github.com/dolibarr/dolibarr/blob/3.0/htdocs/core/class/discount.class.php#L420">at line 420</a></div>
        <code>                    
    <strong>getNomUrl</strong>($withpicto, $option = &#039;invoice&#039;)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>\brief      Return clicable ref of object (with picto or not)
\param      withpicto       0=Pas de picto, 1=Inclut le picto dans le lien, 2=Picto seul
\param      option          Sur quoi pointe le lien
\return     string          Chaine avec URL</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td></td>
                <td>$withpicto</td>
                <td></td>
            </tr>
                    <tr>
                <td></td>
                <td>$option</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
            </div>

    
</div><div id="footer">
        Generated by <a href="https://github.com/code-lts/doctum">Doctum, a API Documentation generator and fork of Sami</a>.            <br/>This documentation is built for the <a href="https://github.com/Dolibarr/dolibarr" rel="noreferrer noopener" target="_blank">Dolibarr</a> project.</div></div>
    </div>
    </body>

</html>
